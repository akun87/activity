<mxfile host="app.diagrams.net" modified="2021-07-17T12:52:11.765Z" agent="5.0 (Macintosh)" etag="prkZopHdB2XOJ-UchFNG" version="14.8.5" type="github">
  <diagram id="U2JTOIulrzN3h3iKnZu4" name="第 1 页">
    <mxGraphModel dx="946" dy="-1897" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="MWvZi_O0qiYePcI-Mjma-18" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;exitX=0.5;exitY=0.9;exitPerimeter=0;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;entryX=0.542;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry x="640.5" y="2641" width="100" height="100" as="geometry">
            <mxPoint x="961" y="3642" as="sourcePoint" />
            <mxPoint x="961" y="3731" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-20" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" parent="1" edge="1">
          <mxGeometry x="640.5" y="2601" width="100" height="100" as="geometry">
            <mxPoint x="962" y="3781" as="sourcePoint" />
            <mxPoint x="962" y="3851" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-26" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;exitX=1;exitY=0.5;exitPerimeter=0;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" parent="1" edge="1">
          <mxGeometry x="635.5" y="2501" width="100" height="100" as="geometry">
            <mxPoint x="1276" y="3761" as="sourcePoint" />
            <mxPoint x="1276" y="3761" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-27" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Gocron模板任务事件&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="shape=mxgraph.flowchart.terminator;strokeWidth=2;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="905.5" y="3571" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-28" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;查询模板任务&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="899" y="3730" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-32" value="目的解决多台服务，重复处理问题" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;size=25;position=0.72;position2=1;base=20;rotation=-30;" parent="1" vertex="1">
          <mxGeometry x="790" y="3810" width="96" height="69" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-40" value="模板任务事件 每1分钟执行一次" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="720" y="3450" width="645" height="70" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-41" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;从DB查询未发送并到期的模板任务&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="899" y="3730" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-42" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Redis&lt;br&gt;&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #36666b&quot;&gt;SetNX 分布式锁&lt;/span&gt;&lt;/pre&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="899" y="3850" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-46" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="959.5" y="3910" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-46" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;从DB查询&lt;span style=&quot;color: #80118c&quot;&gt; 总条数&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #336ecc&quot;&gt;DeviceToken&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="899" y="3970" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-50" value="没有数据终止进行" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1110" y="3730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-51" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1020" y="3758" as="sourcePoint" />
            <mxPoint x="1110" y="3758" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-52" value="没有数据&lt;br&gt;修改模板任务状态&lt;br&gt;释放分锁终止进行" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1110" y="3970" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-53" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1020" y="3998" as="sourcePoint" />
            <mxPoint x="1110" y="3998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-54" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;分页 页码存入 redis&lt;span style=&quot;color: #36666b&quot;&gt;&lt;br&gt;LPush&lt;/span&gt;&lt;span style=&quot;color: #36666b&quot;&gt; 队列&lt;/span&gt;&lt;span style=&quot;color: #336ecc&quot;&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="899" y="4090" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-54" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="959.5" y="4030" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-57" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="959.5" y="4150" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-62" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="MWvZi_O0qiYePcI-Mjma-57" target="MWvZi_O0qiYePcI-Mjma-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-57" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;模板任务信息存入 redis&lt;span style=&quot;color: #067d17&quot;&gt;&amp;nbsp; hmset &lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="899" y="4210" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-60" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-61" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="959.5" y="4270" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-61" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;释放redis分布式锁&lt;br&gt;&lt;/div&gt;&lt;span style=&quot;color: #067d17&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: #336ecc&quot;&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="899" y="4330" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-64" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="959.5" y="4390" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-64" value="企业微信报警通知提醒" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="899" y="4450" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-65" value="每页300条&lt;span style=&quot;color: #067d17&quot;&gt;&lt;br&gt;list类型&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;size=25;position=0.72;position2=1;base=20;rotation=-30;" parent="1" vertex="1">
          <mxGeometry x="790" y="4060" width="96" height="69" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-66" value="&lt;span style=&quot;color: #067d17&quot;&gt;hash类型&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;size=25;position=0.72;position2=1;base=20;rotation=-30;" parent="1" vertex="1">
          <mxGeometry x="790" y="4180" width="96" height="69" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-67" value="DB" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="1271" y="3952" width="119" height="338" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-68" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1130" y="4239" as="sourcePoint" />
            <mxPoint x="1271" y="4239" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-69" value="|&lt;br&gt;&lt;br&gt;&lt;span style=&quot;color: #067d17&quot;&gt;模板任务表变更状态和总条数&lt;/span&gt;&lt;span style=&quot;color: #336ecc&quot;&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1110" y="4209" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-70" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1020" y="4238" as="sourcePoint" />
            <mxPoint x="1110" y="4238" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-72" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1230" y="4000" as="sourcePoint" />
            <mxPoint x="1271" y="3999.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-106" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;exitX=0.5;exitY=0.9;exitPerimeter=0;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;entryX=0.542;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry x="1470.5" y="2641" width="100" height="100" as="geometry">
            <mxPoint x="1791" y="3642" as="sourcePoint" />
            <mxPoint x="1791" y="3731" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-107" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" parent="1" edge="1">
          <mxGeometry x="1470.5" y="2601" width="100" height="100" as="geometry">
            <mxPoint x="1792" y="3781" as="sourcePoint" />
            <mxPoint x="1792" y="3851" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-108" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;exitX=1;exitY=0.5;exitPerimeter=0;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" parent="1" edge="1">
          <mxGeometry x="1465.5" y="2501" width="100" height="100" as="geometry">
            <mxPoint x="2106" y="3761" as="sourcePoint" />
            <mxPoint x="2106" y="3761" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-109" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Gocron&lt;br&gt;推送消息任务事件&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="shape=mxgraph.flowchart.terminator;strokeWidth=2;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="1735.5" y="3571" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-110" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;查询模板任务&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1729" y="3730" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-112" value="消息推送任务事件 每6秒执行一次，一次3000条" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1550" y="3450" width="645" height="70" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-113" value="读取 redis&lt;span style=&quot;color: #067d17&quot;&gt;&lt;br&gt;hgetall 模板任务信息&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1729" y="3730" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-114" value="消费队列页码 &lt;br&gt;redis&lt;span style=&quot;color: #36666b&quot;&gt; RPop&lt;/span&gt;&lt;span style=&quot;color: #36666b&quot;&gt; 队列&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1729" y="3850" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-115" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-116" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1789.5" y="3910" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-116" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;从DB查询&lt;span style=&quot;color: #80118c&quot;&gt; &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #336ecc&quot;&gt;DeviceToken&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1729" y="3970" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-119" value="没有数据终止进行" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1940" y="3730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-120" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1850" y="3758" as="sourcePoint" />
            <mxPoint x="1940" y="3758" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-123" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;redis&lt;span style=&quot;color: #000000&quot;&gt;&lt;br&gt;DeviceToken 存储&lt;/span&gt;&lt;span style=&quot;color: #36666b&quot;&gt; SAdd&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: #36666b&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: #336ecc&quot;&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1729" y="4090" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-123" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1789.5" y="4030" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-125" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-127" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1789.5" y="4150" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-126" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="MWvZi_O0qiYePcI-Mjma-127" target="MWvZi_O0qiYePcI-Mjma-129" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-127" value="拆分每批次&lt;br&gt;500条" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1729" y="4210" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-128" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-129" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1789.5" y="4270" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-129" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #80118c&quot;&gt;iOS、A&lt;/span&gt;&lt;span style=&quot;color: #80118c&quot;&gt;ndroid &lt;br&gt;开始推送&lt;/span&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1729" y="4330" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-130" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-131" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1789.5" y="4390" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-131" value="队列消费完成&lt;br&gt;释放模板任务&lt;span style=&quot;color: #36666b&quot;&gt;HDel&lt;br&gt;释放set del&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1729" y="4450" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-132" value="&lt;span style=&quot;color: #067d17&quot;&gt;&lt;br&gt;采用set 类型&lt;br&gt;防止重复&lt;br&gt;&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;size=25;position=0.72;position2=1;base=20;rotation=-30;" parent="1" vertex="1">
          <mxGeometry x="1620" y="4060" width="96" height="69" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-133" value="友盟限制500条" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;size=25;position=0.72;position2=1;base=20;rotation=-30;" parent="1" vertex="1">
          <mxGeometry x="1620" y="4180" width="96" height="69" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-134" value="DB" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="2101" y="4191" width="119" height="338" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-135" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1960" y="4239" as="sourcePoint" />
            <mxPoint x="2101" y="4239" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-136" value="插入要推送的数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1940" y="4209" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-137" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1850" y="4238" as="sourcePoint" />
            <mxPoint x="1940" y="4238" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-139" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1855.5" y="4349" as="sourcePoint" />
            <mxPoint x="1935" y="4349" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-140" value="如果推送失败&lt;br&gt;已推送数据改为失败状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1940" y="4320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-141" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2061" y="4350" as="sourcePoint" />
            <mxPoint x="2102.5" y="4350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-146" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="MWvZi_O0qiYePcI-Mjma-147" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1789.5" y="4510" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-147" value="企业微信报警通知提醒发送完成及发送情况" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1729" y="4570" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-152" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1965.5" y="4480" as="sourcePoint" />
            <mxPoint x="2106.5" y="4480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-153" value="" style="endArrow=classic;html=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1855.5" y="4479" as="sourcePoint" />
            <mxPoint x="1945.5" y="4479" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MWvZi_O0qiYePcI-Mjma-154" value="修改模板任务状态为成功完成&lt;br&gt;及发送成功数、失败数" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1945.5" y="4450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-67" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;exitX=0.5;exitY=0.9;exitPerimeter=0;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;entryX=0.542;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1">
          <mxGeometry x="570.5" y="4021" width="100" height="100" as="geometry">
            <mxPoint x="891" y="5022" as="sourcePoint" />
            <mxPoint x="891" y="5111" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-68" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" edge="1" parent="1">
          <mxGeometry x="570.5" y="3981" width="100" height="100" as="geometry">
            <mxPoint x="892" y="5161" as="sourcePoint" />
            <mxPoint x="892" y="5231" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-69" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;exitX=1;exitY=0.5;exitPerimeter=0;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" edge="1" parent="1">
          <mxGeometry x="565.5" y="3881" width="100" height="100" as="geometry">
            <mxPoint x="1206" y="5141" as="sourcePoint" />
            <mxPoint x="1206" y="5141" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-70" value="HTTP 接口请求" style="shape=mxgraph.flowchart.terminator;strokeWidth=2;gradientDirection=north;fontStyle=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="835.5" y="4951" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-71" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;查询模板任务&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="829" y="5110" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-73" value="接口请求，每次上线100条" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="650" y="4830" width="645" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-74" value="解析参数校验" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="829" y="5110" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-75" value="签名校验" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="829" y="5230" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-77" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;从DB查询&lt;span style=&quot;color: #80118c&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #336ecc&quot;&gt;DeviceToken&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="829" y="5490" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-78" value="参数不合法终止进行" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1040" y="5110" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-79" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="5138" as="sourcePoint" />
            <mxPoint x="1040" y="5138" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-81" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950.5" y="5518" as="sourcePoint" />
            <mxPoint x="1040.5" y="5518" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-82" value="数据组装处理" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="834" y="5610" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-83" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="1RY6uZeGU76xIEk9IGD9-82">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="894.5" y="5550" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-84" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="1RY6uZeGU76xIEk9IGD9-86">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="894.5" y="5670" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1RY6uZeGU76xIEk9IGD9-86" target="1RY6uZeGU76xIEk9IGD9-88">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-86" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;存入 redis&lt;span style=&quot;color: #36666b&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #36666b&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: #36666b&quot;&gt;LPush&lt;/span&gt;&lt;span style=&quot;color: #36666b&quot;&gt; 队列&lt;/span&gt;&lt;span style=&quot;color: #336ecc&quot;&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="834" y="5730" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-87" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="1RY6uZeGU76xIEk9IGD9-88">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="894.5" y="5790" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-88" value="记录日志，返回可推送条数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="834" y="5850" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-98" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;exitX=0.5;exitY=0.9;exitPerimeter=0;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;entryX=0.542;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1">
          <mxGeometry x="1430.5" y="4021" width="100" height="100" as="geometry">
            <mxPoint x="1751" y="5022" as="sourcePoint" />
            <mxPoint x="1751" y="5111" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-99" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" edge="1" parent="1">
          <mxGeometry x="1430.5" y="3981" width="100" height="100" as="geometry">
            <mxPoint x="1752" y="5161" as="sourcePoint" />
            <mxPoint x="1752" y="5231" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-100" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;exitX=1;exitY=0.5;exitPerimeter=0;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" edge="1" parent="1">
          <mxGeometry x="1425.5" y="3881" width="100" height="100" as="geometry">
            <mxPoint x="2066" y="5141" as="sourcePoint" />
            <mxPoint x="2066" y="5141" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-101" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Gocron&lt;br&gt;推送消息任务事件&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="shape=mxgraph.flowchart.terminator;strokeWidth=2;gradientDirection=north;fontStyle=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="1695.5" y="4951" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-102" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;查询模板任务&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1689" y="5110" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-103" value="消费者" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1510" y="4830" width="645" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-104" value="&lt;pre style=&quot;background-color: #ffffff ; color: #000000 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;LLen验证队列&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1689" y="5110" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-105" value="消费队列 &lt;br&gt;redis&lt;span style=&quot;color: #36666b&quot;&gt; RPop&lt;/span&gt;&lt;span style=&quot;color: #36666b&quot;&gt; 队列&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1689" y="5230" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-106" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="1RY6uZeGU76xIEk9IGD9-107">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1749.5" y="5290" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-107" value="当天同内容只能发一次校验" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1689" y="5350" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-108" value="没有数据终止进行" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1900" y="5110" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-109" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="5138" as="sourcePoint" />
            <mxPoint x="1900" y="5138" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-110" value="开启协程处理" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1689" y="5470" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="1RY6uZeGU76xIEk9IGD9-110">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1749.5" y="5410" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="1RY6uZeGU76xIEk9IGD9-116">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1749.5" y="5530" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-115" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="1RY6uZeGU76xIEk9IGD9-116">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1749.5" y="5530" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-116" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #80118c&quot;&gt;iOS、A&lt;/span&gt;&lt;span style=&quot;color: #80118c&quot;&gt;ndroid &lt;br&gt;开始推送&lt;/span&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1689" y="5590" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-117" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" target="1RY6uZeGU76xIEk9IGD9-118">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1749.5" y="5650" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-118" value="&lt;div&gt;成功失败DB记录&lt;/div&gt;&lt;div&gt;日志记录&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1689" y="5710" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-133" value="签名不合法终止进行" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1040" y="5230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-134" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="5258" as="sourcePoint" />
            <mxPoint x="1040" y="5258" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-135" value="no" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="985" y="5230" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-137" value="no" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="985" y="5110" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-138" value="no" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1060" y="3730" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-142" value="模板校验" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="829" y="5359" width="121" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-143" value="签名不合法终止进行" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1040" y="5359" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-144" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="5387" as="sourcePoint" />
            <mxPoint x="1040" y="5387" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-145" value="no" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="985" y="5359" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-146" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" edge="1" parent="1">
          <mxGeometry x="570.5" y="4110" width="100" height="100" as="geometry">
            <mxPoint x="892" y="5290" as="sourcePoint" />
            <mxPoint x="892" y="5360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-147" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" edge="1" parent="1">
          <mxGeometry x="570.5" y="4240" width="100" height="100" as="geometry">
            <mxPoint x="892" y="5420" as="sourcePoint" />
            <mxPoint x="892" y="5490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-148" value="没有deviceToken终止进行" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1040" y="5490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-149" value="no" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="985" y="5490" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-176" value="" style="endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="5258" as="sourcePoint" />
            <mxPoint x="1900" y="5258" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1RY6uZeGU76xIEk9IGD9-177" value="解析数据失败报警，日志记录" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1900" y="5230" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
